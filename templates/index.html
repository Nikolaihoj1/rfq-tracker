<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HMT RFQ Tracker / Nikolai Høj Vohnsen - Ravnsgaard Metal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
  </head>
  <body>
    <header class="app-header">
      <h1> Ravnsgaard Metal RFQ Tracker</h1> <img src="https://ravnsgaard.dk/wp-content/uploads/2023/12/ravnsgaard-white.png">
      <nav class="nav">
        <a href="/admin">Admin</a> |
   
      </nav>
    </header>

    <section class="controls">
      <div class="stats-bar-chart" id="statsBar" aria-live="polite">
        <div class="stat-row">
          <span class="stat-label">Received</span>
          <div class="stat-bar-container">
            <div class="stat-bar stat-received" id="barReceived" style="width: 0%"></div>
            <span class="stat-count" id="countReceived">0</span>
          </div>
        </div>
        <div class="stat-row">
          <span class="stat-label">Created</span>
          <div class="stat-bar-container">
            <div class="stat-bar stat-created" id="barCreated" style="width: 0%"></div>
            <span class="stat-count" id="countCreated">0</span>
          </div>
        </div>
        <div class="stat-row">
          <span class="stat-label">Draft</span>
          <div class="stat-bar-container">
            <div class="stat-bar stat-draft" id="barDraft" style="width: 0%"></div>
            <span class="stat-count" id="countDraft">0</span>
          </div>
        </div>
        <div class="stat-row">
          <span class="stat-label">Send</span>
          <div class="stat-bar-container">
            <div class="stat-bar stat-send" id="barSend" style="width: 0%"></div>
            <span class="stat-count" id="countSend">0</span>
          </div>
        </div>
        <div class="stat-row">
          <span class="stat-label">Followed up</span>
          <div class="stat-bar-container">
            <div class="stat-bar stat-followed-up" id="barFollowedUp" style="width: 0%"></div>
            <span class="stat-count" id="countFollowedUp">0</span>
          </div>
        </div>
      </div>
      <div class="sort-control">
        <label for="sortBy">Sort by</label>
        <select id="sortBy">
          <option value="rfq_date">RFQ date</option>
          <option value="client_name">Client name</option>
          <option value="due_date">Due date</option>
        </select>
      </div>
      <div class="order-control">
        <label for="order">Order</label>
        <select id="order">
          <option value="asc">Ascending</option>
          <option value="desc">Descending</option>
        </select>
      </div>
      <div class="filter-control">
        <label>
          <input type="checkbox" id="showFollowUp" /> Show follow-up (Send)
        </label>
      </div>
      <button id="refreshBtn" class="primary">Refresh</button>
    </section>

    <main>
      <div id="tiles" class="tile-grid" aria-live="polite"></div>
      
      <section class="recent-rfqs">
        <h2>Recently Completed (Last 10)</h2>
        <table id="recentTable">
          <thead>
            <tr>
              <th>Client</th>
              <th>RFQ #</th>
              <th>RFQ Date</th>
              <th>Completed Date</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>
    </main>

    <template id="tile-template">
      <article class="tile">
        <header class="tile-header">
          <h2 class="client-name"></h2>
          <span class="status-badge"></span>
        </header>
        <dl class="tile-details">
          <div>
            <dt>RFQ #</dt>
            <dd class="rfq-number"></dd>
          </div>
          <div>
            <dt>RFQ date</dt>
            <dd class="rfq-date"></dd>
          </div>
          <div>
            <dt>Due date</dt>
            <dd class="due-date"></dd>
          </div>
          <div>
            <dt>Client contact</dt>
            <dd class="client-contact"></dd>
          </div>
          <div>
            <dt>Client email</dt>
            <dd><a class="client-email-link folder-link" href="" target="_blank" rel="noopener">e-mail</a></dd>
          </div>
          <div>
            <dt>Our contact</dt>
            <dd class="our-contact"></dd>
          </div>
          <div>
            <dt>Folder</dt>
            <dd>
              <a class="network-folder-link folder-link" target="_blank" rel="noopener">Open</a>
            </dd>
          </div>
        </dl>
        <footer class="tile-footer">
          <label>
            Status
            <select class="status-select">
              <option>Received</option>
              <option>Created</option>
              <option>Draft</option>
              <option>Send</option>
              <option>Followed up</option>
            </select>
          </label>
        </footer>
      </article>
    </template>

    <script src="{{ url_for('static', filename='app.js') }}" defer></script>
    <footer class="app-footer">
      <small>
        Copyright (c) 2025 MillPoint Software - Nikolai Høj Vohnsen
        <a class="folder-link" href="https://www.hmaskinteknik.dk">www.hmaskinteknik.dk</a>
        <br />
        <br /><br />
        Bugs and errors: contact Nikolai Høj — <a class="folder-link" href="mailto:nhv@ravnsgaard.dk">nhv@ravnsgaard.dk</a>
      </small>
    </footer>
  </body>
  
  </html>


